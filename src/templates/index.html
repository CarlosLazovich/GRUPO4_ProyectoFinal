{% extends 'base.html' %}
{% load static %}

{% block contenido %}

<div class="index-hero rounded">
  <div>
    <h1>BLOG VIAJERO</h1>
    <a href="{% url 'publicaciones:publicaciones' %}" class="custom-button light mt-3">Visita nuestro blog</a>
  </div>
</div>

<div class="inner-container">
  <h2>ultimas publicaciones</h2>
  <div class="publicaciones-cards">
    
    {% for post in posteos %}
    <div class="publicaciones-card">
      
      {% if post.imagen_publicacion %}
      <img src="{{post.imagen_publicacion.url}}">
    {% else %}
      <img src="{% static 'img/post-default.webp' %}">
    {% endif %}

        <div class="d-flex flex-column justify-content-between w-100">
          <div>
            <p class="categoria">#{{post.categoria}}</p>
            <h3>{{post.titulo}}</h3>
            <p class="fecha">Publicado el {{post.fecha}}</p>
          </div>
          <div class="d-flex justify-content-between">
            <a href="{% url 'publicaciones:detalle-post' post.id %}" class="text-decoration-none">Leer Mas -></a>
            <div>
              {% if user.is_superuser or user == post.creador %}
              <a href="{% url 'publicaciones:editar-post' post.id %}" title="Editar Posteo"><i class="fa-regular fa-pen-to-square"></i></a>
              <a href="{% url 'publicaciones:eliminar-post' post.id %}" title="Eliminar Posteo"><i class="fa-regular fa-trash-can"></i></a>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
      <div class="divisor"></div>
    {% endfor %}   
  </div>
</div>


{% if is_paginated %}

      <div class="mt-2">
          <ul class="pagination">

            {% if page_obj.has_previous %}
              <li class="page-item">
                <a href="?page={{page_obj.preious_page_number}}" class="page-link"> previous </a>
              </li>
            {% else %}
              <li class="page-item disabled">
                <a href="#" class="page-link"> previous </a>
              </li>
            {% endif %}

            {% for i in paginator.page_range %}
              {% if pag_obj.number == i %}
                <li class="page-item active">
                  <a href="?`page={{ i }}" class="page-link"> {{ i }} </a>
                </li>
              {% else %}
                <li class="page-item">
                  <a href="?`page={{ i }}" class="page-link"> {{ i }} </a>
                </li>
              {% endif %}
            {% endfor %}
        
            {% if page_obj.has_next %}
              <li class="page-item">
                <a href="?page={{page_obj.next_page_number}}" class="page-link"> next </a>
              </li>
            {% else %}
               <li class="page-item disabled">
                  <a href="#" class="page-link"> next </a>
               </li>
            {% endif %}
          </ul>
      </div>
  
{% endif %}
  

<div class="mt-5 d-md-flex flex-md-row gap-4">
  <div class="rounded" id="quienes-somos" style="flex: 1"></div>
  <div class="my-5 d-flex flex-column justify-content-center align-items-center text-center gap-3" style="flex: 1;">
    <h2 class="m-0">Quienes Somos</h2>
    <p class="m-0" style="max-width: 350px;">Conoce mejor a los creadores de su primer blog de turismo</p>
    <a href="{% url 'quienes-somos:quienes-somos' %}" class="custom-button">Leer Mas</a>
  </div>
</div>

<div class="d-md-flex flex-md-row-reverse gap-4">
  <div class="rounded" id="contacto" style="flex: 1"></div>
  <div class="my-5 d-flex flex-column justify-content-center align-items-center text-center gap-3" style="flex: 1;">
    <h2 class="m-0">Contactanos</h2>
    <p class="m-0" style="max-width: 350px;">Aca puedes consultar con los creadores cualquier duda que tengas</p>
    <a href="{% url 'contacto:enviar-mensaje' %}" class="custom-button">Contacto</a>
  </div>
</div>


{% endblock contenido %} 